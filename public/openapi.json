{
  "openapi": "3.0.0",
  "info": {
    "version": "0.1",
    "title": "Hexagonal Playground API",
    "description": "RESTful API for managing soccer leagues and illustrating hexagonal architecture",
    "contact": {
      "name": "Marius Klocke",
      "email": "marius.klocke@gmail.com"
    }
  },
  "tags": [
    {
      "name": "team"
    },
    {
      "name": "season"
    },
    {
      "name": "ranking"
    },
    {
      "name": "match"
    },
    {
      "name": "pitch"
    }
  ],
  "paths": {
    "/team": {
      "get": {
        "tags": [
          "team"
        ],
        "summary": "Finds all teams",
        "responses": {
          "200": {
            "description": "list of teams"
          }
        }
      },
      "post": {
        "tags": [
          "team"
        ],
        "summary": "Creates a new team",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Operation successful"
          },
          "400": {
            "description": "Invalid team name"
          }
        }
      }
    },
    "/team/{id}": {
      "get": {
        "tags": [
          "team"
        ],
        "summary": "Finds a single team by id",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of team",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Single team"
          }
        }
      },
      "delete": {
        "tags": [
          "team"
        ],
        "summary": "Delete a single team by id",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of team",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Deletion successful"
          }
        }
      }
    },
    "/team/{id}/rename": {
      "post": {
        "tags": [
          "team"
        ],
        "summary": "Renames a single team",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of team",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Team has been successfully renamed"
          },
          "404": {
            "description": "Team could not be found"
          }
        }
      }
    },
    "/season": {
      "get": {
        "tags": [
          "season"
        ],
        "summary": "Find all seasons",
        "responses": {
          "200": {
            "description": "List of seasons"
          }
        }
      },
      "post": {
        "tags": [
          "season"
        ],
        "summary": "Create a new season",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Operation successful"
          }
        }
      }
    },
    "/season/{id}/team": {
      "get": {
        "tags": [
          "team"
        ],
        "summary": "Find all teams related to a single season",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of season",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of teams related to the season"
          }
        }
      }
    },
    "/season/{id}/ranking": {
      "get": {
        "tags": [
          "ranking"
        ],
        "summary": "Returns the current season ranking",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of season",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of rankings for the specified season"
          }
        }
      }
    },
    "/season/{id}/matches": {
      "post": {
        "tags": [
          "match"
        ],
        "summary": "Creates matches for a given season",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of season",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Operation successful"
          }
        }
      }
    },
    "/season/{id}/matches/{match_day}": {
      "get": {
        "tags": [
          "match"
        ],
        "summary": "Returns matches for a matchday",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of season",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "match_day",
            "in": "path",
            "description": "Number identifying the matchday",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of rankings for the specified season"
          }
        }
      }
    },
    "/season/{id}": {
      "delete": {
        "tags": [
          "season"
        ],
        "summary": "Delete a single season",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of season",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Deletion successful"
          }
        }
      },
      "get": {
        "tags": ["season"],
        "summary": "Finds a single season",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of season",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Contains a single season object"
          },
          "404": {
            "description": "Season could not be found"
          }
        }
      }
    },
    "/season/{id}/start": {
      "post": {
        "tags": ["season"],
        "summary": "Starts a season",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of season",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Season has been successfully started"
          },
          "400": {
            "description": "Season cannot be started due to an invalid state"
          },
          "404": {
            "description": "Season could not be found"
          }
        }
      }
    },
    "/match/{id}": {
      "get": {
        "tags": [
          "match"
        ],
        "summary": "Find a single match by id",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "match id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Contains a single match object"
          },
          "404": {
            "description": "Match could not be found"
          }
        }
      }
    },
    "/match/{id}/result": {
      "post": {
        "tags": [
          "match"
        ],
        "summary": "Submit a matches result",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "match id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "home_score",
                  "guest_score"
                ],
                "properties": {
                  "home_score": {
                    "type": "int"
                  },
                  "guest_score": {
                    "type": "int"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Operation successful"
          }
        }
      }
    },
    "/match/{id}/cancellation": {
      "post": {
        "tags": [
          "match"
        ],
        "summary": "Cancel a match",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "match id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Operation successful"
          }
        }
      }
    },
    "/match/{id}/kickoff": {
      "post": {
        "tags": [
          "match"
        ],
        "summary": "Schedule a match",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "match id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "kickoff"
                ],
                "properties": {
                  "kickoff": {
                    "type": "string",
                    "format": "date-time"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Operation successful"
          }
        }
      }
    },
    "/match/{id}/location": {
      "post": {
        "tags": [
          "match"
        ],
        "summary": "Locate a match on a pitch",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "match id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "pitch_id"
                ],
                "properties": {
                  "pitch_id": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Operation successful"
          }
        }
      }
    },
    "/pitch": {
      "get": {
        "tags": [
          "pitch"
        ],
        "summary": "Find all pitches",
        "responses": {
          "200": {
            "description": "Array of pitches"
          }
        }
      },
      "post": {
        "tags": [
          "pitch"
        ],
        "summary": "Creates a new pitch",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "label"
                ],
                "properties": {
                  "label": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Operation successful"
          }
        }
      }
    },
    "/pitch/{id}": {
      "get": {
        "tags": [
          "pitch"
        ],
        "summary": "Find a single pitch by id",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "pitch id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Contains a single pitch object"
          },
          "404": {
            "description": "Pitch could not be found"
          }
        }
      },
      "delete": {
        "tags": [
          "pitch"
        ],
        "summary": "Delete a single pitch",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "pitch id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Deletion successful"
          }
        }
      }
    }
  }
}